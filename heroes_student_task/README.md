# Итоговый проект Heroes

## Что было сделано

В этом проекте я реализовал 4 алгоритма для игры Heroes - пошаговой стратегии с боевой системой.

### 1. Метод getSuitableUnits (SuitableForAttackUnitsFinderImpl.java)

Этот метод нужен чтобы найти юнитов, которых можно атаковать. Не всех юнитов можно атаковать - некоторые "спрятаны" за другими юнитами своей армии.

**Как я это сделал:**
- Прохожу по каждому ряду юнитов
- В каждом ряду ищу того, кто стоит ближе всего к противнику
- Если атакуем левую армию - ищу юнита с максимальным x (он ближе к центру)
- Если атакуем правую армию - ищу юнита с минимальным x

**Сложность:** O(n) - просто один проход по всем юнитам

---

### 2. Метод generate (GeneratePresetImpl.java)

Этот метод генерирует армию для компьютера. Нужно набрать самую сильную армию за ограниченный бюджет (1500 очков).

**Как я это сделал:**
- Сначала отсортировал все типы юнитов по "эффективности" - отношению атаки к стоимости
- Потом жадным алгоритмом добавляю самых эффективных юнитов пока хватает очков
- Слежу чтобы каждого типа было не больше 11 штук

**Сложность:** O(n * m), где n - типы юнитов, m - сколько юнитов добавляем

---

### 3. Метод getTargetPath (UnitTargetPathFinderImpl.java)

Этот метод ищет кратчайший путь от атакующего юнита до цели. Использовал алгоритм BFS (поиск в ширину).

**Как я это сделал:**
- Создаю сетку 27x21 и помечаю клетки где стоят другие юниты как препятствия
- Запускаю BFS от стартовой позиции
- Ищу путь до цели, можно ходить в 8 направлениях (включая диагонали)
- Когда нашел цель - восстанавливаю путь обратно

**Сложность:** O(WIDTH * HEIGHT) = O(567) - в худшем случае обойду всё поле

---

### 4. Метод simulate (SimulateBattleImpl.java)

Этот метод симулирует бой между двумя армиями.

**Как я это сделал:**
- Пока у обеих армий есть живые юниты - продолжаем бой
- В начале раунда собираю всех живых и сортирую по атаке (сильные ходят первыми)
- Каждый юнит вызывает attack() и я логирую результат
- Если юнит умер во время раунда - он пропускает свой ход

**Сложность:** O(n²) - максимум n раундов, в каждом обрабатываю n юнитов

---

## Таблица сложностей

| Метод | Нужная сложность | Моя сложность | Ок? |
|-------|------------------|---------------|-----|
| getSuitableUnits | O(n) | O(n) | да |
| generate | O(n*m) | O(n*m) | да |
| getTargetPath | O(W*H) | O(W*H) | да |
| simulate | O(n²) | O(n²) | да |

---

## Как запустить

1. Открыть проект в IntelliJ IDEA
2. Build -> Build Artifacts -> JAR
3. Скопировать JAR в папку `heroes/jars/` (заменить obf.jar)
4. Запустить игру `Heroes Battle-1.0.0.jar`

---

## Файлы которые я изменил

```
src/programs/
├── GeneratePresetImpl.java      <- генерация армии
├── SimulateBattleImpl.java      <- симуляция боя
├── SuitableForAttackUnitsFinderImpl.java  <- поиск целей
└── UnitTargetPathFinderImpl.java <- поиск пути (BFS)
```
